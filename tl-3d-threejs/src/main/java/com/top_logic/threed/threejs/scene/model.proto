package com.top_logic.threed.threejs.scene;

option NoInterfaces;
option NoXml;
option NoBinary;
option SharedGraph;

/** Base class for objects that can be rendered in a 3D context. */
abstract message Asset {
}

/** A glTF artifact loaded from an URL. */
message GltfAsset extends Asset {
	/** The URL from which to retrieve glTF data. */
	string url;
}

message Cube extends Asset {
	float width;
	float height;
	float depth;
}

/** Base class for a node in a {@link SceneGraph} */
abstract message SceneNode {
	/** Reference to a custom object that is represented by this scene node. */
	transient java.lang.Object userData;

	/** Optional transformation applied to this and all potential sub-nodes. */
	repeated double transform;
}

/** A collection of {@link SceneNode}s. */
message GroupNode extends SceneNode {
	/** The {@link SceneNode}s grouped together. */
	repeated SceneNode contents;
}

/** An atomic {@link SceneNode} displaying an {@link Asset}. */
message PartNode extends SceneNode {
	/** The {@link Asset} to display. */
	Asset asset;
}

/** The top-level object of a scene. */
message SceneGraph {
	/** The top-level {@link SceneNode} of the scene. */
	SceneNode root;

	/** The currently selected {@link SceneNode}s. */
	repeated SceneNode selection;
}
